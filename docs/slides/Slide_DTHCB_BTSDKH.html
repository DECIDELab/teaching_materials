<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Dịch tễ học cơ bản</title>
    <meta charset="utf-8" />
    <meta name="author" content="Phùng Khánh Lâm, BS, TS" />
    <meta name="date" content="2020-12-17" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="lampk.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Dịch tễ học cơ bản
## BÀI TẬP SỐ ĐO KẾT HỢP
### Phùng Khánh Lâm, BS, TS
### </br> Bộ môn Dịch tễ học, Khoa Y tế công cộng, Đại học Y Dược TP Hồ Chí Minh
### </br> 2020-12-17

---






# Mục tiêu

SỐ ĐO KẾT HỢP

1. Lựa chọn được

2. Tính được

3. Lý giải được

---

# Số đo kết hợp

Giúp trả lời 2 câu hỏi

1. Có hay không mối liên quan giữa phơi nhiễm và bệnh?

2. Nếu phơi nhiễm thực sự gây ra bệnh, can thiệp vào yếu tố phơi nhiễm giúp cải thiện tình trạng bệnh như thế nào?

---

# Bảng 2 x 2

![:imgabs 80%, 10%, 25%](figures/2by2.png)
---

# Số đo kết hợp thường dùng

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#dtxmipfahc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dtxmipfahc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dtxmipfahc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dtxmipfahc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dtxmipfahc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dtxmipfahc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dtxmipfahc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dtxmipfahc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dtxmipfahc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dtxmipfahc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dtxmipfahc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dtxmipfahc .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#dtxmipfahc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dtxmipfahc .gt_from_md > :first-child {
  margin-top: 0;
}

#dtxmipfahc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dtxmipfahc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dtxmipfahc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#dtxmipfahc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dtxmipfahc .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#dtxmipfahc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dtxmipfahc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dtxmipfahc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dtxmipfahc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dtxmipfahc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dtxmipfahc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#dtxmipfahc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dtxmipfahc .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#dtxmipfahc .gt_left {
  text-align: left;
}

#dtxmipfahc .gt_center {
  text-align: center;
}

#dtxmipfahc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dtxmipfahc .gt_font_normal {
  font-weight: normal;
}

#dtxmipfahc .gt_font_bold {
  font-weight: bold;
}

#dtxmipfahc .gt_font_italic {
  font-style: italic;
}

#dtxmipfahc .gt_super {
  font-size: 65%;
}

#dtxmipfahc .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="dtxmipfahc" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Số mới mắc (nguy cơ)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Số chênh</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Mối liên quan</td>
      <td class="gt_row gt_left">Tỉ số nguy cơ (RR)</td>
      <td class="gt_row gt_left">Tỉ số số chênh (OR)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Tác động</td>
      <td class="gt_row gt_left">Nguy cơ quy trách (AR)/Nguy cơ quy trách dân số (PAR)</td>
      <td class="gt_row gt_left"></td>
    </tr>
  </tbody>
  
  
</table></div>

---

## Làm việc nhóm: Khảo sát mối liên hệ giữa hai yếu tố

Làm việc nhóm (mỗi nhóm khoảng 10 sinh viên)

Trong 60-80 phút:

--

* Thảo luận chọn vấn đề khảo sát (mối liên quan giữa hai yếu tố)

--

* Thiết kế phiếu thu thập dữ liệu (Google Form, Microsoft Form)

--

* Thu thập dữ liệu (từ các nhóm khác)

--

* Phân tích dữ liệu: lập bảng 2x2, lựa chọn và tính số đo kết hợp

--

* Viết báo cáo: trình bày dạng Poster

--

* Công bố: facebook, trình bày trước lớp

---

# Poster

![:imgabs 80%, 10%, 20%](figures/BTSDKH_poster.png)
---

# Poster

### Tên khảo sát

### Đặt vấn đề

### Phương pháp

### Kết quả

### Kết luận

---

???

## https://www.facebook.com/groups/720719872177774

![:imgabs 70%, 15%, 20%](figures/DTHCB_BTSDKH_facebook.png)

???

![:imgabs 100%, 0%, 20%](figures/DTHCB_BTSDKH_elearning.png)

---

# Nguy cơ tương đối (relative risk, risk ratio, RR)


$$
RR = \frac{\text{Nguy cơ mắc bệnh ở nhóm phơi nhiễm}}{\text{Nguy cơ mắc bệnh ở nhóm không phơi nhiễm}} = \frac{R_1}{R_0}
$$

Đo lường mức độ kết hợp/liên quan giữa phơi nhiễm và bệnh:

* Nếu `\(RR = 1\)`: nguy cơ mắc bệnh ở 2 nhóm tương đương nhau. Phơi nhiễm không liên quan đến bệnh.

* Nếu `\(RR &gt; 1\)`: nhóm phơi nhiễm có nguy cơ mắc bệnh cao gấp `\(RR\)` lần so với nhóm không phơi nhiễm. Yếu tố nguy cơ.

* Nếu `\(RR &lt; 1\)`: nhóm phơi nhiễm có nguy cơ mắc bệnh thấp bằng `\(RR\)` lần so với nhóm không phơi nhiễm. Yếu tố bảo vệ.

Không phải lúc nào cũng tính được (nghiên cứu bệnh chứng, nghiên cứu cắt ngang)

---

# Tỉ số số chênh (odds ratio, OR)

$$
\text{OR bệnh} = \frac{\text{Số chênh mắc bệnh ở nhóm phơi nhiễm}}{\text{Số chênh mắc bệnh ở nhóm không phơi nhiễm}} = \frac{O_1}{O_0}
$$

Đo lường mức độ kết hợp/liên quan giữa phơi nhiễm và bệnh:

* Nếu `\(OR = 1\)`: số chênh mắc bệnh ở 2 nhóm tương đương nhau. Phơi nhiễm không liên quan đến bệnh.

* Nếu `\(OR &gt; 1\)`: nhóm phơi nhiễm có số chênh mắc bệnh cao gấp `\(OR\)` lần so với nhóm không phơi nhiễm. Yếu tố nguy cơ.

* Nếu `\(OR &lt; 1\)`: nhóm phơi nhiễm có số chênh mắc bệnh thấp bằng `\(OR\)` lần so với nhóm không phơi nhiễm. Yếu tố bảo vệ.

---

# Tỉ số số chênh (odds ratio, OR)

$$
\text{OR phơi nhiễm} = \frac{\text{Số chênh phơi nhiễm ở nhóm bệnh}}{\text{Số chênh phơi nhiễm ở nhóm không mắc bệnh}} = \frac{O_1}{O_0}
$$

`\(\text{OR phơi nhiễm} = \text{OR bệnh} = \frac{a \times d}{b \times c}\)`

---

# Tỉ số số chênh (odds ratio, OR)

Đo lường mức độ kết hợp/liên quan giữa phơi nhiễm và bệnh:

* Nếu `\(OR = 1\)`: Phơi nhiễm không liên quan đến bệnh.

* Nếu `\(OR &gt; 1\)`: Yếu tố nguy cơ.

* Nếu `\(OR &lt; 1\)`: Yếu tố bảo vệ.

`\(\text{OR phơi nhiễm} = \text{OR bệnh} = \frac{a \times d}{b \times c}\)`

Nghiên cứu bệnh chứng: số chênh và OR phơi nhiễm ước tính đúng số chênh và OR phơi nhiễm thực sự 

Khi bệnh hiếm: OR `\(\approx\)` RR

---

# Nguy cơ quy trách (attributable risk, AR)

$$
AR = R_1 - R_0
$$

Nếu phơi nhiễm thực sự gây ra bệnh, trong số những người có phơi nhiễm, bao nhiêu người mắc bệnh thực sự do yếu tố phơi nhiễm.

Nếu phơi nhiễm là yếu tố thay đổi được:

Nếu phơi nhiễm thực sự gây ra bệnh, trong số những người có phơi nhiễm, có thể ngăn ngừa được bao nhiêu người mắc bệnh bằng cách loại bỏ yếu tố phơi nhiễm.

---

# Phần trăm nguy cơ qui trách (AR%)

$$
AR\% = \frac{AR}{R_1} = (R_1 - R_0):R_1
$$

Nếu phơi nhiễm thực sự gây ra bệnh, trong số những người có phơi nhiễm, bao nhiêu % người mắc bệnh thực sự do yếu tố phơi nhiễm.  

Nếu phơi nhiễm thực sự gây ra bệnh, trên những người có phơi nhiễm, có thể ngăn ngừa được bao nhiêu % người mắc bệnh bằng cách loại trừ yếu tố phơi nhiễm. 

---

# Nguy cơ qui trách dân số (PAR)

$$
PAR = R_T - R_0
$$
trong đó `\(R_T\)` là nguy cơ mắc bệnh trong toàn bộ dân số

Nếu phơi nhiễm thực sự gây ra bệnh, trong toàn bộ dân số, bao nhiêu người mắc bệnh thực sự do yếu tố phơi nhiễm.

Nếu phơi nhiễm thực sự gây ra bệnh, trong toàn bộ dân số, có thể ngăn ngừa được bao nhiêu người mắc bệnh bằng cách loại bỏ yếu tố phơi nhiễm.

---

# Phần trăm nguy cơ qui trách dân số (PAR%)

$$
PAR\% = PAR/R_T = (R_T - R_0):R_T
$$

Nếu phơi nhiễm thực sự gây ra bệnh, trong toàn bộ dân số, bao nhiêu % người mắc bệnh thực sự do yếu tố phơi nhiễm.  


Nếu phơi nhiễm thực sự gây ra bệnh, trong toàn bộ dân số, có thể ngăn ngừa được bao nhiêu % người mắc bệnh bằng cách loại trừ yếu tố phơi nhiễm. 

---
class: center, middle

# CÁM ƠN CÁC EM ĐÃ THAM GIA BUỔI HỌC !

Nhận xét về buổi học

&lt;img src="figures/DTHCB_BTSDKH_eval2.png" width="400" style="display: block; margin: auto;" /&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="addons/macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "4:3"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
(function(time) {
  var d2 = function(number) {
    return ('0' + number).slice(-2); // left-pad 0 to minutes/seconds
  },

  time_format = function(total) {
    var secs = Math.abs(total) / 1000;
    var h = Math.floor(secs / 3600);
    var m = Math.floor(secs % 3600 / 60);
    var s = Math.round(secs % 60);
    var res = d2(m) + ':' + d2(s);
    if (h > 0) res = h + ':' + res;
    return res;  // [hh:]mm:ss
  },

  slide_number_div = function(i) {
    return document.getElementsByClassName('remark-slide-number').item(i);
  },

  current_page_number = function(i) {
    return slide_number_div(i).firstChild.textContent;  // text "i / N"
  };

  var timer = document.createElement('span'); timer.id = 'slide-time-left';
  var time_left = time, k = slideshow.getCurrentSlideIndex(),
      last_page_number = current_page_number(k);

  setInterval(function() {
    time_left = time_left - 1000;
    timer.innerHTML = ' ' + time_format(time_left);
    if (time_left < 0) timer.style.color = 'red';
  }, 1000);

  slide_number_div(k).appendChild(timer);

  slideshow.on('showSlide', function(slide) {
    var i = slide.getSlideIndex(), n = current_page_number(i);
    // reset timer when a new slide is shown and the page number is changed
    if (last_page_number !== n) {
      time_left = time; last_page_number = n;
      timer.innerHTML = ' ' + time_format(time); timer.style.color = null;
    }
    slide_number_div(i).appendChild(timer);
  });
})(60000);
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
