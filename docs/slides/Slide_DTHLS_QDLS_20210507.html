<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Dịch tễ học lâm sàng</title>
    <meta charset="utf-8" />
    <meta name="author" content="Phùng Khánh Lâm, BS, TS" />
    <meta name="date" content="2021-05-07" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"xf79cb3206ba40b58814552b5a665741","expires":1}</script>
    <script src="libs/himalaya/himalaya.js"></script>
    <script src="libs/js-cookie/js.cookie.js"></script>
    <link href="libs/editable/editable.css" rel="stylesheet" />
    <script src="libs/editable/editable.js"></script>
    <script src="libs/fabric/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30}) })</script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/mark.js/mark.min.js"></script>
    <link href="libs/xaringanExtra-search/search.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-search/search.js"></script>
    <script>window.addEventListener('load', function() { window.xeSearch = new RemarkSearch({"position":"bottom-left","caseSensitive":false,"showIcon":false,"autoSearch":true}) })</script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/freezeframe/freezeframe.min.js"></script>
    <script src="libs/xaringanExtra-freezeframe/freezeframe-init.js"></script>
    <script id="xaringanExtra-freezeframe-options" type="application/json">{"selector":"img[src$=\"gif\"]","trigger":"click","overlay":false,"responsive":true,"warnings":true}</script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script src="libs/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="lampk2.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Dịch tễ học lâm sàng
## RA QUYẾT ĐỊNH LÂM SÀNG
### Phùng Khánh Lâm, BS, TS
### </br> Bộ môn Dịch tễ học, Khoa Y tế công cộng, Đại học Y Dược TP Hồ Chí Minh
### 2021-05-07

---










# Mục tiêu

* Sai lệch nhận thức trong quyết định y khoa

* Các thành phần trong quá trình ra quyết định lâm sàng

* Ra quyết định theo mô hình PROACTIVE

---
class: inverse, center, middle

.f1.b[Sai lệch nhận thức trong y khoa]

---

## Ca lâm sàng 1

Người đàn ông 21 tuổi được đưa tới trung tâm cấp cứu chấn thương. Người này bị đâm nhiều nhát ở tay, ngực, và đầu. Người này rất hợp tác, không có dấu hiệu khó thở, không tắc nghẽn đường thở. Bão hoà oxy, huyết áp, mạch trong giới hạn bình thường.

Tổn thương ngực xuyên qua vai trái khá sâu, nhưng có vẻ chưa làm thủng khoang ngực. Tuy nhiên, các bác sĩ lo ngại rằng khoang ngực và các mạch máu chính có thể đã bị tổn thương. Siêu âm không thấy dịch tự do trong khoang ngực, phim phổi bình thường, không có tràn khí màng phổi, ổ bụng bình thường và không có khí tự do. Các bác sĩ trao đổi rất nhiều về cách xử lý vết thương ngực sau do bị đâm, và cuối cùng nhất trí không cần làm CT ngực. Các vết thương còn lại được rửa sạch, khâu lại và bệnh nhân được cho xuất viện với sự hỗ trợ của bạn.

.footnote[
Croskerry, P. (2013). NEJM, 368(26), 2445–2448. https://doi.org/10.1056/NEJMp1303712
]
---

## Ca lâm sàng 1 (2)

5 ngày sau, người này đến khám tại một bệnh viện khác vì nôn ói, mờ mắt và khó tập trung. Kết quả CT đầu cho thấy vết thương do dao đâm xuyên sọ và có tổn thương não.

.footnote[
Croskerry, P. (2013). NEJM, 368(26), 2445–2448. https://doi.org/10.1056/NEJMp1303712
]
---

## Ca lâm sàng 2

Một phụ nữ 18 tuổi được bác sĩ gia đình chuyển đến khám tại phòng khám chuyên về tâm thần do nghi ngờ các triệu chứng lo âu và trầm cảm nặng. Cô ấy hay có những đợt khó thở, kèm với tăng thông khí, co thắt cổ tay, và mất nhận thức. BS tâm thần muốn loại trừ các vấn đề về hô hấp nên chuyển bệnh nhân đến khám tại phòng cấp cứu với yêu cầu chụp phim phổi để loại trừ viêm phổi.

Cô ấy được BS cấp cứu thăm khám. Ghi nhận cho thấy bệnh nhân không có khó thở nặng ngoại trừ cảm giác bị hết hơi. Cô bị béo phì, có tiền sử hen, và hút thuốc lá. Cô ấy đang được điều trị bằng benzodiazepine và thuốc chống lo âu, đồng thời có sử dụng thuốc tránh thai. Kiểm tra ngực và tim mạch đều bình thường. BS chỉ định công thức máu và phim phổi. Sau khi xem phim, thấy bình thường, BS tin là bệnh nhân có thể quay về khoa tâm thần một cách an toàn. BS cho rằng vấn đề về hô hấp của cô ấy là do lo âu.

.footnote[
Croskerry, P. (2013). NEJM, 368(26), 2445–2448. https://doi.org/10.1056/NEJMp1303712
]
---

## Ca lâm sàng 2 (2)

Khi chuẩn bị quay về, bệnh nhân trở nên kích động và thở gấp. Các điều dưỡng cố gắng an ủi cô ấy, khuyến khích cô thở vào túi giấy. Không lâu sau đó, bệnh nhân bất tỉnh. Sinh hiệu cho thấy tim ngừng đập. Bệnh nhân không được cứu sống. Kết quả khám nghiệm tử thi cho thấy bệnh nhân có huyết khối tĩnh mạch chậu lan từ tĩnh mạch đùi và có các dấu hiệu thuyên tắc ở cả 2 phổi.   

.footnote[
Croskerry, P. (2013). NEJM, 368(26), 2445–2448. https://doi.org/10.1056/NEJMp1303712
]

---

## Phẫu thuật bắc cầu động mạch chủ-vành (CABG)

Olenski và cộng sự sử dụng dữ liệu từ Medicare trong giai đoạn từ 2006 đến 2012 để so sánh tỷ lệ được thực hiện CABG trên bệnh nhân nhập viện vì nhồi máu cơ tim cấp ở 2 nhóm:

* nhập viện trong vòng 2 tuần trước sinh nhật thứ 80
* nhập viện trong vòng 2 tuần sau sinh nhật thứ 80

.footnote[
Olenski AR et al. (2020). NEJM, 382(8), 778–779. https://doi.org/10.1056/NEJMc1911289
]
---

## Phẫu thuật bắc cầu động mạch chủ-vành (CABG) (2)

Kết quả: RD = 1.7% (95%CI: 0.7-2.7)

![:imgabs 60%, 15%, 30%](figures/QDLS_07.png)

.footnote[
Olenski AR et al. (2020). NEJM, 382(8), 778–779. https://doi.org/10.1056/NEJMc1911289
]
---

## Sai lệch nhận thức trong quyết định y khoa

Tại Mỹ: sai sót y khoa

* Xảy ra trong 1.7-6.5% số lần nhập viện, quy cho 100,000 tử vong mỗi năm.
* Tổn thất ~19.5 tỉ USD (2008)
* Liên quan đến chẩn đoán, điều trị, quản lý bệnh nhân

--

Một nguyên nhân gây ra sai sót y khoa là .ered[sai lệch nhận thức] (cognitive bias):

* tự tin quá mức
* "anchoring"
* "framing"
* ...

.footnote[
Saposnik et al. BMC Medical Informatics and Decision Making (2016) 16:138

Croskerry, P. (2013). NEJM, 368(26), 2445–2448. https://doi.org/10.1056/NEJMp1303712
]
---

## Hệ thống tư duy 1 và hệ thống tư duy 2

![:imgabs 30%, 7%, 20%](figures/QDLS_08.jpg)

--

![:imgabs 45%, 48%, 20%](figures/QDLS_06.png)

---

## Hệ thống tư duy 1 và hệ thống tư duy 2

![:imgabs 70%, 15%, 20%](figures/QDLS_09.png)
.footnote[
Saposnik et al. BMC Medical Informatics and Decision Making (2016) 16:138
]
---
class: inverse, center, middle

.f1.b[Các thành phần trong quá trình ra quyết định lâm sàng]

---

# Ra quyết định trong điều kiện bất định

* Các yếu tố bất định khi ra quyết định
    + Bất định của chẩn đoán
    + Độ chính xác của xét nghiệm chẩn đoán
    + Lịch sử tự nhiên của bệnh
    + Hiệu quả của điều trị trên từng bệnh nhân hoặc trên nhóm bệnh nhân
    
* Cần nhận diện, liệt kê và tổng hợp tất cả các yếu tố trên để ra quyết định cuối cùng

* Là quá trình lựa chọn
    
---

# Các thành phần

* Các lựa chọn
* Các hệ quả
* Khả năng xảy ra các hệ quả
* Giá trị của các hệ quả

---
class: inverse, center, middle

.f1.b[Cách tiếp cận PROACTIVE]

---

# Cách tiếp cận PROACTIVE

.ered[PRO]: .ered[P]roblem, .ered[R]eframe, .ered[O]bjectives

.ered[ACT]: .ered[A]lternatives, .ered[C]onsequences and .ered[C]hances, e.red[T]rade-offs

.ered[IVE]: .ered[I]ntegrate, .ered[V]alue, .ered[E]xplore &amp; .ered[E]valuate

.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]    
---

# Bước 1: .ered[PRO]active - vấn đề và mục tiêu

* Bộc lộ và xác định rõ vấn đề để đảm bảo đi đúng hướng
* Nhìn vấn đề dưới nhiều góc độ khác nhau
* Xác định các mục tiêu chính cần đạt được

.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## P: xác định vấn đề

Bằng cách trả lời câu hỏi 

* Chuyện gì sẽ xảy ra nếu bạn không hành động ngay?
* và sau đó là gì?

--

Bảng hệ quả (consequence table)

* Liệt kê các hệ quả của một lựa chọn và xem xét mọi góc nhìn và khía cạnh quan trọng liên quan.

.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## Viêm tai giữa tiết dịch: Bảng hệ quả (consequence table)

Bảng hệ quả cho lựa chọn không hành động

![:imgabs 80%, 10%, 30%](figures/QDLS_01.png)
.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## R: mô tả lại vấn đề theo góc nhìn khác

Nhằm hiểu rõ cách nhìn của người khác về vấn đề mà mình muốn giải quyết

* Lâm sàng: bao gồm lo lắng của bệnh nhân
* Y tế công cộng: bao gồm bệnh nhân, nhà cung cấp dịch vụ, người chi trả, nhà hoạch định chính sách

---

## Viêm tai giữa tiết dịch: các góc nhìn

&gt; Sinh học: vấn đề liên quan đến vi khuẩn, đáp ứng miễn dịch, bất thường về giải phẫu

&gt; Tâm lý học: một trong những trở ngại về phát triển ngôn ngữ

&gt; Xã hội học: vấn đề về hành vi trong lớp học và tương tác trong gia đình

Góc nhìn từ: đứa trẻ, cha mẹ, giáo viên, bác sĩ, chuyên gia YTCC, công ty bảo hiểm

.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

# O: tập trung vào mục tiêu

Mục tiêu chính của CSSK là thay đổi hay ngăn chặn các hệ quả của bệnh: phòng ngừa, chữa khỏi, làm chậm diễn tiến, ngừa biến chứng, giảm triệu chứng khó chịu.

Đôi khi có nhiều mục tiêu cạnh tranh nhau (ví dụ khi chăm sóc BN ung thư giai đoạn cuối, có thể có nhiều mục tiêu cạnh tranh nhau: giảm khó chịu, đảm bảo chức năng sống, kéo dài tuổi thọ; và có thể khác nhau giữa bệnh nhân và người chăm sóc).

Phân biệt giữa .ered[mục tiêu trung gian] (means objectives) và .ered[mục tiêu nền tảng] (fundamental objectives).

* Mục tiêu trung gian: giúp đạt được mục tiêu nền tảng.
* Mục tiêu nền tảng: giúp tìm ra các lựa chọn để đạt được mục tiêu đó bằng nhiều cách khác nhau.

Trả lời câu hỏi Vì sao?

---

## Viêm tai giữa tiết dịch: các mục tiêu

Đặt ống thông khí vào màng nhĩ (tympanostomy tube) giúp giải quyết được tình trạng ứ đọng dịch sau màng nhĩ (keo tai). Đây có thể xem là một mục tiêu. 

--

* Vì sao muốn chữa keo tai? Bởi vì sẽ giúp phục hồi chức năng nghe.
--

* Vì sao muốn phục hồi chức năng nghe? Bởi vì giúp phát triển ngôn ngữ phù hợp
--

* Vì sao muốn phát triển ngôn ngữ phù hợp? Bởi vì cải thiện chất lượng cuộc sống.
--

* Vì sao muốn cải thiện chất lượng cuộc sống? Bởi vì đó là điều mà ai cũng muốn.

--

Như vậy:
* Chất lượng cuộc sống tốt là mục tiêu nền tảng.
* Chữa keo tai, phục hồi khả năng nghe, phát triển ngôn ngữ phù hợp là các mục tiêu phương tiện.

--

Vì chất lượng cuộc sống là mục tiêu nền tảng, giảm đau và hỗ trợ nghe là những biện pháp can thiệp cần quan tâm. 

---

## Bước 2: pro.ered[ACT]ive (lựa chọn khác, hệ quả, cân nhắc)

---

## A: xem xét mọi lựa chọn thay thế

Liệt kê mọi giải pháp thay thế, phân vào 3 nhóm

Chờ đợi ('wait-and-see', 'do nothing'): có thể
* Hoàn toàn không làm gì cả
* Theo dõi (monitoring) và can thiệp dựa vào diễn tiến
* Kích hoạt (triggering): chờ đợi đến khi một sự việc xuất hiện
    
Can thiệp ('intervention')
* Liệt kê mọi can thiệp (chưa cân nhắc ưu/nhược của các can thiệp)
* Dựa vào chuyên gia, y văn, đặc biệt là các thử nghiệm lâm sàng có nhóm chứng
    
Lấy thêm thông tin ('obtain information')
    
---

## Cây quyết định (decision tree): 

Công cụ trực quan liệt kê mọi lựa chọn và hệ quả.

![:imgabs 60%, 20%, 50%](figures/QDLS_02.png)

* Vấn đề
* Lựa chọn (decision node)
* Hệ quả (chance node)

.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## Viêm tai giữa tiết dịch: các lựa chọn

Chờ đợi: theo dõi

Can thiệp

* Sử dụng kháng sinh
* Sử dụng corticosteroid đường uống
* Sử dụng corticosteroid đường hít
* Sử dụng kháng viêm non-steroid
* Sử dụng ống thông khí màng nhĩ
* Phẫu thuật cắt bỏ mô bạch huyết adenoid (nạo VA)
* Sử dụng chất ly giải chất nhầy
* Autoinflation (thủ thuật mở vòi Eustachian bằng cách tăng áp lực trong mũi)
* Sử dụng chất chống sung huyết và kháng histamine
* Hỗ trợ nghe

---

## C: liệt kê các hệ quả và ước tính khả năng xảy ra

* Suy nghĩ về mọi hệ quả của mọi lựa chọn và khả năng xảy ra của chúng.
* Xem xét cả hệ quả ngắn hạn và hệ quả lâu dài.
* Tìm chứng cứ tốt nhất làm cơ sở cho các ước tính.

Công cụ

* cây cơ hội (chance tree)
* bảng cân đối (balance sheet)

---

## Cây cơ hội

![:imgabs 80%, 10%, 20%](figures/QDLS_03.png)
.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## Bảng cân đối

![:imgabs 50%, 25%, 20%](figures/QDLS_04.png)
.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

## T: xác định và ước tính các cân nhắc

Các cân nhắc trao đổi thường gặp trên lâm sàng:

* nguy cơ tức thời vs. cải thiện lâu dài
* chất lượng cuộc sống vs. thời gian sống
* cải thiện về sức khoẻ vs. chi phí

Việc cân nhắc phụ thuộc vào cách chúng ta lượng hoá giá trị của các hệ quả.

Cần đo lường giá trị và sở thích của các hệ quả.

---

# Bước 3: proact.ered[IVE] (tổng hợp và khám phá)

### I: tổng hợp chứng cứ và giá trị

Dựa vào thông tin từ các bước trước để tính toán giá trị mong đợi (expected value) của từng lựa chọn.

### V: tìm lựa chọn có giá trị mong đợi cao nhất

Lựa chọn có giá trị mong đợi cao nhất thường được chọn.

### E: khám phá ảnh hưởng của các giả định và sự bất định 

Xem xét thêm ảnh hưởng đến kết luận khi các giả định bị thay đổi.

---

## Viêm tai giữa tiết dịch

![:imgabs 45%, 25%, 20%](figures/QDLS_05.png)
.footnote[
Hunink MG et al. (2014). Decision Making in Health and Medicine: Integrating Evidence and Values. 
]
---

# Sử dụng kết quả

Kết quả từ quá trình này có thể là

* Một quyết định lâm sàng trên một tình huống cụ thể

* Các công cụ hỗ trợ ra quyết định lâm sàng
    + Một hướng dẫn điều trị
    + Một sơ đồ điều trị
    + Một bảng cân đối
    + Một công cụ hỗ trợ ra quyết định hướng tới bệnh nhân

---

## Ưu điểm của cách tiếp cận PROACTIVE

* Liệt kê mọi mục tiêu, giả định, chứng cứ một cách công khai và hệ thống.

* Giúp đánh giá vấn đề một cách thấu đáo và hệ thống.

* Hạn chế ảnh hưởng của các sai lệch nhận thức (cognitive bias).

---
class: center, middle

# CÁM ƠN CÁC ANH CHỊ ĐÃ THAM GIA BUỔI HỌC !
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="addons/macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "4:3"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
(function(time) {
  var d2 = function(number) {
    return ('0' + number).slice(-2); // left-pad 0 to minutes/seconds
  },

  time_format = function(total) {
    var secs = Math.abs(total) / 1000;
    var h = Math.floor(secs / 3600);
    var m = Math.floor(secs % 3600 / 60);
    var s = Math.round(secs % 60);
    var res = d2(m) + ':' + d2(s);
    if (h > 0) res = h + ':' + res;
    return res;  // [hh:]mm:ss
  },

  slide_number_div = function(i) {
    return document.getElementsByClassName('remark-slide-number').item(i);
  },

  current_page_number = function(i) {
    return slide_number_div(i).firstChild.textContent;  // text "i / N"
  };

  var timer = document.createElement('span'); timer.id = 'slide-time-left';
  var time_left = time, k = slideshow.getCurrentSlideIndex(),
      last_page_number = current_page_number(k);

  setInterval(function() {
    time_left = time_left - 1000;
    timer.innerHTML = ' ' + time_format(time_left);
    if (time_left < 0) timer.style.color = 'red';
  }, 1000);

  slide_number_div(k).appendChild(timer);

  slideshow.on('showSlide', function(slide) {
    var i = slide.getSlideIndex(), n = current_page_number(i);
    // reset timer when a new slide is shown and the page number is changed
    if (last_page_number !== n) {
      time_left = time; last_page_number = n;
      timer.innerHTML = ' ' + time_format(time); timer.style.color = null;
    }
    slide_number_div(i).appendChild(timer);
  });
})(60000);
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
